import{j as e,W as x,R as d}from"./ui-DgCwhHkT.js";import{d as l}from"./index-CFOCruvU.js";import{R as m}from"./react-C14kkwO6.js";const h=({message:t="Server connection lost",className:i=""})=>{const{retryConnection:n,lastChecked:s}=l(),[r,a]=m.useState(!1),c=async()=>{a(!0),await n(),a(!1)},o=s?`Last checked: ${s.toLocaleTimeString()}`:"Checking connection...";return e.jsxs("div",{className:`flex flex-col items-center justify-center p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 ${i}`,children:[e.jsx(x,{className:"w-8 h-8 text-red-500 dark:text-red-400 mb-2"}),e.jsx("h3",{className:"text-lg font-medium text-red-700 dark:text-red-300 mb-2",children:t}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-3 text-center",children:"The Partitura API is currently unavailable."}),e.jsx("button",{onClick:c,disabled:r,className:"flex items-center gap-2 px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors disabled:opacity-50",children:r?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4 animate-spin"}),"Retrying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4"}),"Retry Connection"]})}),e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-2",children:o})]})},y=(t,i={})=>{const{message:n="API Connection Lost"}=i,s=a=>{const{isApiAvailable:c}=l();return c?e.jsx(t,{...a}):e.jsx("div",{className:"p-4",children:e.jsx(h,{message:n})})},r=t.displayName||t.name||"Component";return s.displayName=`withApiAvailability(${r})`,s};export{y as w};
