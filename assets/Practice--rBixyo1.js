import{j as t,n as i,G as E,A as T,o as A,p as H,M as h}from"./ui-DgCwhHkT.js";import{r as c}from"./react-C14kkwO6.js";import{a as O}from"./index-CFOCruvU.js";import{u as W}from"./useScrollReset-ZRr5ZJk0.js";import{P as R}from"./PageTransition-BFnjTUrs.js";import"./supabase-D5PNQMqt.js";const m=[{id:1,name:"Note Basics",difficulty:"Easy",x:120,y:400,completed:!0,icon:t.jsx(h,{size:14})},{id:2,name:"Quarter Notes",difficulty:"Easy",x:280,y:320,completed:!0,icon:t.jsx(h,{size:14})},{id:3,name:"Half Notes",difficulty:"Easy",x:440,y:360,completed:!1,icon:t.jsx(h,{size:14})},{id:4,name:"Whole Notes",difficulty:"Medium",x:600,y:280,completed:!1,icon:t.jsx(h,{size:14})},{id:5,name:"Eighth Notes",difficulty:"Medium",x:760,y:320,completed:!1,icon:t.jsx(h,{size:14})},{id:6,name:"Dotted Notes",difficulty:"Hard",x:920,y:400,completed:!1,icon:t.jsx(h,{size:14})},{id:7,name:"Triplets",difficulty:"Hard",x:1080,y:320,completed:!1,icon:t.jsx(h,{size:14})},{id:8,name:"Sixteenth Notes",difficulty:"Expert",x:1240,y:360,completed:!1,icon:t.jsx(h,{size:14})},{id:9,name:"Complex Rhythms",difficulty:"Expert",x:1400,y:280,completed:!1,icon:t.jsx(h,{size:14})}],X=[{from:1,to:2},{from:2,to:3},{from:3,to:4},{from:4,to:5},{from:5,to:6},{from:6,to:7},{from:7,to:8},{from:8,to:9}],L=r=>Array.from({length:r}).map((s,o)=>({id:o,x:Math.random()*100,y:Math.random()*100,size:Math.random()*3+1,color:Math.random()>.6?"#4f46e5":Math.random()>.5?"#06b6d4":"#8b5cf6",duration:Math.random()*15+10,delay:Math.random()*5,xPath:Math.random()*100-50,yPath:Math.random()*100-50})),_=r=>Array.from({length:r}).map((s,o)=>{const d=Math.random()*180+120,f=Math.random()*80+60,u=o<3?Math.random()*300:Math.random()*-800-400,g=2e3,y=Math.random()*15-7.5,p=Math.random()*35+45,b=Math.random()*60+5,j=o<4?Math.random()*.5:Math.random()*3;return{id:o,size:d,height:f,startX:u,endX:g,yMovement:y,duration:p,top:b,delay:j,centerDuration:Math.random()*8+12,leftDuration:Math.random()*6+10,leftDelay:Math.random()*.5,rightDuration:Math.random()*7+9,rightDelay:Math.random()*.5,topDuration:Math.random()*6+8,topDelay:Math.random()*.3}}),G=r=>Array.from({length:r}).map((s,o)=>{const d=Math.random()>.5;return{id:o,color:d?"bg-blue-300":"bg-purple-300",width:Math.random()*3+1,height:Math.random()*3+1,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,duration:Math.random()*3+2,delay:Math.random()*2}}),Q=(r,s)=>{const o={};for(let d=1;d<=r;d++)o[d]=Array.from({length:s}).map((f,u)=>({id:u,width:Math.random()*5+2,height:Math.random()*5+2,x:Math.random()*80-40,y:Math.random()*80-40,duration:Math.random()*1+.5,delay:Math.random()*.5}));return o},U=()=>{var $,I,z,D,k;const{isDarkMode:r}=O(),[s,o]=c.useState(null),[d,f]=c.useState(null),[u,g]=c.useState(()=>L(15)),y=c.useRef(null),[p,b]=c.useState({top:0,left:0,right:0,bottom:0}),j=c.useMemo(()=>_(8),[]),S=c.useMemo(()=>G(30),[]),C=c.useMemo(()=>Q(m.length,3),[]);W(),c.useEffect(()=>{const e=setInterval(()=>{g(L(15))},2e4);return()=>clearInterval(e)},[]),c.useEffect(()=>{if(y.current){const e=y.current.clientWidth;b({top:0,bottom:0,left:0,right:Math.max(0,1600-e)})}},[]);const P=e=>{o(e)},w=e=>{switch(e){case"Easy":return"text-green-500";case"Medium":return"text-yellow-500";case"Hard":return"text-orange-500";case"Expert":return"text-red-500";default:return"text-blue-500"}},N=(e,a)=>{switch(e){case"Easy":return a?"from-green-500 to-green-700":"from-green-400 to-green-600";case"Medium":return a?"from-yellow-500 to-amber-700":"from-yellow-400 to-amber-600";case"Hard":return a?"from-orange-500 to-red-700":"from-orange-400 to-red-600";case"Expert":return a?"from-purple-500 to-purple-700":"from-purple-400 to-purple-600";default:return a?"from-blue-500 to-indigo-700":"from-blue-400 to-indigo-600"}};return t.jsx(R,{children:t.jsxs("div",{className:"h-full overflow-hidden",style:{position:"fixed",inset:0,paddingTop:"56px"},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6 px-6 pt-6",style:{position:"absolute",top:0,left:0,right:0,zIndex:10},children:[t.jsxs(i.div,{animate:{scale:[1,1.05,1]},transition:{scale:{duration:3,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},className:`p-2 rounded-full relative ${r?"bg-indigo-900/30 text-blue-300":"bg-indigo-100 text-blue-600"}`,children:[t.jsx(E,{size:28}),t.jsx(i.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:["0 0 0 0px rgba(99, 102, 241, 0.3)","0 0 0 4px rgba(99, 102, 241, 0.2)","0 0 0 8px rgba(99, 102, 241, 0.1)","0 0 0 12px rgba(99, 102, 241, 0.05)","0 0 0 16px rgba(99, 102, 241, 0)"]},transition:{duration:3,repeat:1/0,ease:"linear"}})]}),t.jsx("h1",{className:`text-3xl font-bold ${r?"text-gray-100":"text-gray-900"}`,children:"Sight Reading World"})]}),t.jsx(T,{children:s&&t.jsx(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed top-1/4 left-1/2 transform -translate-x-1/2 z-50 rounded-xl shadow-lg p-6 w-96 backdrop-blur-sm
                ${r?"bg-gray-800 text-gray-300":"bg-white text-gray-600"}`,children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(E,{size:20,className:"mr-2 text-blue-500"}),t.jsxs("h2",{className:"text-2xl font-bold",children:["Level ",s,": ",($=m.find(e=>e.id===s))==null?void 0:$.name]})]}),t.jsxs("div",{className:`p-4 mb-4 rounded-lg bg-opacity-20 ${r?"bg-gray-700":"bg-blue-50"}`,children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(A,{className:"text-yellow-400 mr-1",size:16}),t.jsx("span",{className:"font-semibold",children:"Difficulty:"})]}),t.jsx("span",{className:`font-bold ${w(((I=m.find(e=>e.id===s))==null?void 0:I.difficulty)||"")}`,children:(z=m.find(e=>e.id===s))==null?void 0:z.difficulty})]}),t.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600",children:t.jsx(i.div,{className:`h-full rounded-full bg-gradient-to-r ${N(((D=m.find(e=>e.id===s))==null?void 0:D.difficulty)||"",r)}`,initial:{width:0},animate:{width:"100%"},transition:{duration:1}})})]}),t.jsxs("p",{className:`mb-4 ${r?"text-gray-300":"text-gray-600"}`,children:["Master ",(k=m.find(e=>e.id===s))==null?void 0:k.name.toLowerCase()," to unlock the next level!"]}),t.jsxs("div",{className:"flex justify-between mt-6",children:[t.jsx(i.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 py-2 rounded-md flex items-center 
                      ${r?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}
                      text-gray-800 dark:text-gray-200`,onClick:()=>o(null),children:t.jsx("span",{children:"Close"})}),t.jsxs(i.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 py-2 rounded-md flex items-center gap-2 bg-gradient-to-r from-blue-500 to-indigo-600 
                      text-white font-medium shadow-lg shadow-blue-500/20`,children:[t.jsx(H,{size:16}),t.jsx("span",{children:"Start"})]})]})]})})}),t.jsxs("div",{ref:y,className:`absolute inset-0 top-[80px] m-6 rounded-xl shadow-lg overflow-hidden
            ${r?"bg-gray-800 text-gray-300":"bg-white text-gray-600"}`,style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden",children:u.map(e=>t.jsx(i.div,{className:"absolute rounded-full",style:{backgroundColor:e.color,width:e.size,height:e.size,left:`${e.x}%`,top:`${e.y}%`},animate:{x:e.xPath,y:e.yPath,opacity:[0,.7,0]},transition:{duration:e.duration,times:[0,.5,1],repeat:1/0,delay:e.delay,ease:"easeInOut"}},`particle-${e.id}`))}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 background-animate"}),t.jsx("div",{className:"absolute inset-0 grid grid-cols-12 grid-rows-6 gap-4 opacity-20",children:S.map(e=>t.jsx(i.div,{className:`rounded-full ${e.color}`,style:{width:e.width,height:e.height,left:e.left,top:e.top,position:"absolute"},animate:{scale:[1,1.5,1],opacity:[.2,.7,.2]},transition:{duration:e.duration,repeat:1/0,delay:e.delay}},`star-${e.id}`))}),j.map(e=>t.jsx("div",{className:"absolute",style:{top:e.top,left:e.startX},children:t.jsx(i.div,{className:"relative",animate:{x:[0,e.endX],y:[0,e.yMovement,-e.yMovement,0],opacity:[0,1,1,.8,0]},transition:{x:{duration:e.duration,repeat:1/0,ease:"linear",delay:e.delay,repeatDelay:0},y:{duration:e.duration/2,repeat:1/0,repeatType:"reverse",ease:"easeInOut",delay:e.delay},opacity:{duration:e.duration,times:[0,.05,.75,.9,1],repeat:1/0,ease:"easeInOut",delay:e.delay,repeatDelay:0}},children:t.jsxs("div",{className:"relative",children:[t.jsx(i.div,{className:"absolute rounded-full opacity-40 bg-white",style:{width:e.size,height:e.height,filter:"blur(8px)",background:"radial-gradient(circle at center, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0) 100%)"},animate:{scale:[1,1.03,.97,1]},transition:{duration:e.centerDuration,repeat:1/0,ease:"easeInOut"}}),t.jsx(i.div,{className:"absolute rounded-full opacity-40 bg-white",style:{width:e.size*.8,height:e.height*.8,left:-e.size*.3,top:e.height*.1,filter:"blur(8px)",background:"radial-gradient(circle at center, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0) 100%)"},animate:{scale:[1,.96,1.04,1]},transition:{duration:e.leftDuration,repeat:1/0,ease:"easeInOut",delay:e.leftDelay}}),t.jsx(i.div,{className:"absolute rounded-full opacity-40 bg-white",style:{width:e.size*.8,height:e.height*.8,left:e.size*.3,top:e.height*.1,filter:"blur(8px)",background:"radial-gradient(circle at center, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0) 100%)"},animate:{scale:[1,1.05,.95,1]},transition:{duration:e.rightDuration,repeat:1/0,ease:"easeInOut",delay:e.rightDelay}}),t.jsx(i.div,{className:"absolute rounded-full opacity-40 bg-white",style:{width:e.size*.7,height:e.height*.7,left:e.size*.15,top:-e.height*.2,filter:"blur(8px)",background:"radial-gradient(circle at center, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0) 100%)"},animate:{scale:[1,.94,1.06,1]},transition:{duration:e.topDuration,repeat:1/0,ease:"easeInOut",delay:e.topDelay}})]})})},`cloud-${e.id}`)),t.jsxs(i.div,{className:"relative w-[1600px] h-[800px] mx-auto",drag:"x",dragConstraints:p,dragElastic:.1,dragTransition:{bounceStiffness:600,bounceDamping:20},children:[t.jsx("svg",{className:"absolute inset-0 z-10 pointer-events-none",children:X.map(e=>{const a=m.find(v=>v.id===e.from),n=m.find(v=>v.id===e.to);if(!a||!n)return null;const M=d===a.id||d===n.id,x=a.completed,l=a.completed&&!n.completed;return t.jsxs("g",{children:[t.jsx(i.path,{d:`M ${a.x} ${a.y} Q ${(a.x+n.x)/2} ${Math.min(a.y,n.y)-40} ${n.x} ${n.y}`,stroke:r?"#6366f1":"#4f46e5",strokeWidth:M?12:10,fill:"transparent",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{pathLength:{duration:1.5,ease:"easeInOut",delay:.1+e.from*.05}}}),l&&t.jsx(i.circle,{cx:(a.x+n.x)/2,cy:(a.y+n.y)/2-20,r:6,fill:"#6366f1",animate:{y:[0,-5,0],opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0,repeatType:"reverse"}}),x&&t.jsx(i.path,{d:`M ${a.x} ${a.y} Q ${(a.x+n.x)/2} ${Math.min(a.y,n.y)-40} ${n.x} ${n.y}`,stroke:"#10b981",strokeWidth:3,strokeDasharray:"8,8",fill:"transparent",strokeLinecap:"round",animate:{strokeDashoffset:[0,-50]},transition:{duration:10,repeat:1/0,ease:"linear"}})]},`${e.from}-${e.to}`)})}),m.map(e=>{var x;const a=e.completed||((x=m.find(l=>l.id===e.id-1))==null?void 0:x.completed),n=s===e.id,M=N(e.difficulty,r);return t.jsxs(i.div,{className:`absolute z-20 flex flex-col items-center ${a?"":"grayscale opacity-60"}`,style:{left:e.x,top:e.y},initial:{scale:0},animate:{scale:1,y:a?[0,-5,0]:0},transition:{scale:{duration:.3,delay:.05*e.id},y:{duration:3,repeat:1/0,repeatType:"reverse",delay:.2*e.id}},whileHover:{scale:1.05},onClick:()=>a&&P(e.id),onMouseEnter:()=>f(e.id),onMouseLeave:()=>f(null),children:[t.jsxs(i.div,{className:`w-16 h-16 rounded-full flex items-center justify-center
                      shadow-lg shadow-purple-500/20 cursor-pointer relative
                      bg-gradient-to-br ${M}
                      ${n?"ring-4 ring-yellow-400 ring-opacity-80":""}`,whileTap:{scale:.95},children:[e.completed&&t.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:"✓"}),t.jsx("span",{className:"text-white text-xl font-bold",children:e.id}),t.jsx(i.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:n||d===e.id?["0 0 0 0px rgba(147, 51, 234, 0.3)","0 0 0 5px rgba(147, 51, 234, 0.2)","0 0 0 10px rgba(147, 51, 234, 0.1)","0 0 0 15px rgba(147, 51, 234, 0.05)","0 0 0 20px rgba(147, 51, 234, 0)"]:["none"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}}),(n||d===e.id)&&a&&t.jsx(t.Fragment,{children:C[e.id].map(l=>t.jsx(i.div,{className:"absolute rounded-full bg-white",style:{width:l.width,height:l.height},animate:{x:[0,l.x],y:[0,l.y],opacity:[1,0],scale:[0,1]},transition:{duration:l.duration,repeat:1/0,delay:l.delay}},`node-particle-${e.id}-${l.id}`))})]}),t.jsxs(i.div,{className:`mt-2 px-3 py-1 rounded-md text-sm font-medium
                      ${r?"bg-gray-700":"bg-gray-100"}
                      ${w(e.difficulty)}
                      ${n?"ring-2 ring-yellow-400 ring-opacity-50":""}
                      flex items-center gap-1`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2*e.id},children:[e.icon,t.jsx("span",{children:e.name})]})]},e.id)})]})]})]})})};export{U as default};
